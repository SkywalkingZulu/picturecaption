!function(){"use strict";for(var a,b=[],c={},d=document.getElementsByTagName("figure"),e=function(a){return a.replace(window.location.origin+window.location.pathname,"")},f=function(a){for(var c=0;c<b.length;c++)if(b[c].labelledby===a)return b[c];return!1},g=function(b,c){b.hasAttribute("aria-labelledby")&&(r=b.getAttribute("aria-labelledby"),o=document.getElementById(r),o&&(c?a=o:(o.setAttribute("aria-hidden",!0),o.style.display="none"),s=o.innerHTML))},h=0;h<d.length;h++)for(var i=0;i<d[h].children.length;i++){var j,k,l=d[h].children[i],m=l.tagName.toLowerCase();if("picture"===m)for(var n=0;n<l.children.length;n++){var o,p=l.children[n],q=p.tagName.toLowerCase(),r="",s="";if("source"===q)for(var t=p.srcset.split(","),u=0;u<t.length;u++){var v=t[u].trim().split(" "),w="";k=e(v[0].trim()),p.hasAttribute("data-alt")&&(w=p.getAttribute("data-alt")),g(p,!1),f(r)?(j=f(r),j.src=k,j.alt=w):(b.push({src:k,labelledby:r,caption:s,alt:w}),c[k]=b[b.length-1])}else"img"===q&&(p.addEventListener("load",function(b){var d=c[e(b.target.currentSrc)];a.innerHTML=d.caption,b.target.alt=d.alt,b.target.setAttribute("aria-labelledby",d.labelledby)}),g(p,!0),k=e(p.src),b.push({labelledby:r,src:k,caption:s,alt:p.alt}),c[k]=b[b.length-1])}}}();